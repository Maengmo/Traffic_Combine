package com.test.search;

import java.io.BufferedReader;
import java.io.BufferedWriter;
import java.io.FileReader;
import java.io.FileWriter;
import java.util.ArrayList;

import com.test.Airplane.AirPlane_data;
import com.test.Bus.Bus_UI;
import com.test.Bus.Bus_data;
import com.test.Train.Train_UI;
import com.test.Train.Train_data;
import com.test.project.UI;
import com.test.reservation.ReservationRoute;
import com.test.reservation.rvRoute;
import com.test.user.user_Join;
import com.test.user.user_Service;
import com.test.user.user_data;

//파일에서 데이터 가져와서 로드하는 용도로 사용하는 클래스
public class RouteData {
	
	public final static String MEMBER = "/Users/kimdaehwan/Desktop/class/code/java/TrafficCombine/userFile/reservationList.txt";
	public final static String USERPATH = "/Users/kimdaehwan/Desktop/class/code/java/TrafficCombine/userFile";

	//public final static String MEMBER = ".\\dat\\~~ .txt";
	public static ArrayList<Route> routeList;
	public static ArrayList<rvRoute> rvrouteList;
		
	static {
		//trainlist = new ArrayList<Train>();
		//buslist = new ArrayList<Bus>();
		//airplanelist = new ArrayList<Airplane>();
		routeList = new ArrayList<Route>();
		rvrouteList = new ArrayList<rvRoute>();
	}
		
	public static void trainDepartureData() {
		Train_UI.list();
		Train_data.Select(ReservationRoute.departure);
		Train_data.load();
		Train_data.print();
		UI.pause();
	}                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 
	
	public static void busDepartureData() {
		Bus_UI.list();
		Bus_data.select(ReservationRoute.departure);
		Bus_data.load();
		Bus_data.print();
		UI.pause();
	}
	
	public static void airplaneDepartureData() {
		AirPlane_data.list.clear();
		AirPlane_data.load();
		AirPlane_data.print();
		UI.pause();
	}
	public static void trainarriveData() {
		Train_UI.list();
		Train_data.Select(ReservationRoute.arrive);
		Train_data.load();
		Train_data.print();
		UI.pause();
	}                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 
	
	public static void busarriveData() {
		Bus_UI.list();
		Bus_data.select(ReservationRoute.arrive);
		Bus_data.load();
		Bus_data.print();
		UI.pause();
	}
	
	public static void airplanearriveData() {
		AirPlane_data.list.clear();
		AirPlane_data.load();
		AirPlane_data.print();
		UI.pause();
	}
	
	public static void loadList(String transfort, String departure, String arrive, String departureDate, String departureTime) {
	
		Route r = new Route(transfort, departure, arrive, departureDate, departureTime);
		routeList.add(r);
	
	}
	public static void rvloadList(String num,String transfort, String departure, String arrive, String departureDate, String departureTime , String price , String stseatgrade,String id) {
		
		rvRoute rv = new rvRoute(num , transfort, departure, arrive, departureDate, departureTime , price , stseatgrade,id);
		rvrouteList.add(rv);
	}
	
	public static void ReservationDel(String s) {
		
		rvrouteList.clear();
		
		try {
			
			BufferedReader reader = new BufferedReader(new FileReader(RouteData.MEMBER));
			
			String line = null;
			
			while((line = reader.readLine()) != null) {
				
				String[] temp = line.split(",");
				
				//텍스트 1줄 > Member 객체 1개
				rvRoute r = new rvRoute(temp[0], temp[1], temp[2], temp[3], temp[4], temp[5], temp[6], temp[7], temp[8]);
				
				if(temp[0].equals(s)) {
					
				}else {
					rvrouteList.add(r);
				}
				
				
			}
			
		} catch (Exception e) {
			e.printStackTrace();
		}
		
		
	}
	
	public static void ResevationSave() {
		
		//배열 > (덮어쓰기) > user.txt
		try {
			
			BufferedWriter writer = new BufferedWriter(new FileWriter(RouteData.MEMBER));
			
			//Member m > 1, 홍길동, 20, 남자
			
			for(rvRoute r : rvrouteList) {
				writer.write(String.format("%s,%s,%s,%s,%s,%s,%s,%s,%s\r\n"
										, r.getNum()
										, r.getTransfort()
										, r.getDeparture()
										, r.getArrive()
										, r.getDepartureDate()
										, r.getDepartureTime()
										, r.getPrice()
										, r.getStseatgrade()
										, r.getId()));
			}
			
			writer.close();
			
		} catch (Exception e) {
			e.printStackTrace();
		}
	}
	
	
	
	
	
	
	public static void save() {
		
		//배열 > (덮어쓰기) > reservationList.txt
		try {
			BufferedWriter writer = new BufferedWriter(new FileWriter(RouteData.MEMBER,true));
			

			
			for(rvRoute rv : rvrouteList) {
				writer.write(String.format("%s,%s,%s,%s,%s,%s,%s,%s,%s\r\n"
											,rv.getNum(), 
											rv.getTransfort(), 
											rv.getDeparture(), 
											rv.getArrive(), 
											rv.getDepartureDate(), 
											rv.getDepartureTime(),
											rv.getPrice(),
											rv.getStseatgrade(),
											user_Service.LOGIN_NOW+"/"));
			}
			
			writer.close();
			
			
		} catch (Exception e) {
			e.printStackTrace();
		}
		
	}
	
	
	public static String[] rv_check(String id) {
		
		try {
		
		BufferedReader reader = new BufferedReader(new FileReader(MEMBER));
		
		String line = null;
		
		while((line = reader.readLine()) != null) {
			
			String[] temp = line.split(",");
			
			
			rvRoute r = new rvRoute(temp[0], temp[1], temp[2], temp[3], temp[4], temp[5], temp[6], temp[7], temp[8]);
			
			if (temp[8].equals(id)) {
				return temp;
			}
		}
		
		
	} catch (Exception e) {
		e.printStackTrace();
	}
	return null;
	}
	

	
	

}
